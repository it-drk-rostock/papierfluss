model Form {
    id          String   @id @default(cuid())
    title       String
    description String?
    icon        String?
    schema      Json?
    isPublic    Boolean  @default(false)
    isActive    Boolean  @default(true)
    createdAt   DateTime @default(now())
    updatedAt   DateTime @updatedAt

    // Relations
    createdBy   User?            @relation("FormCreator", fields: [createdById], references: [id])
    createdById String?
    teams       Team[]
    submissions FormSubmission[]

    @@index([createdById])
}

model FormSubmission {
    id            String           @id @default(cuid())
    data          Json?
    status        SubmissionStatus @default(open)
    createdAt     DateTime         @default(now())
    updatedAt     DateTime         @updatedAt
    form          Form             @relation(fields: [formId], references: [id])
    formId        String
    submittedBy   User?            @relation(fields: [submittedById], references: [id])
    submittedById String?

    @@index([formId])
    @@index([submittedById])
}

enum SubmissionStatus {
    open
    ongoing
    submitted
    completed
}
